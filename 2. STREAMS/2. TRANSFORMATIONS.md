# TRANSFORM STREAM DATA

LETS INSTALL  PACKAGE `through2`

- `yarn add through2`

- `yarn add @types/through2 --dev`


[I SHOW YOU HOW TO PIPE OTHER DATA INSIDE STANDARD OUT WRITABLE STREAM](/2.%20STREAMS/1.%20ABOUT%20STREAMS.md); NOW LETS USE PIPE AGAINE, TOGETHER WITH LIBRARY WE INSTALLED, TO DIFINE SOME TRANSFORMATIONS ON CHUNK OF DATA

```js
const {createReadStream} = require("fs")
const through = require("through2")

console.log(process.argv)

// THIS IS GOING TO BE TRANSFORM FUNCTION
// WE WANT TO DEFINE FUNCTION WIH WILL DO UPPERCASE ON
// A CHARACTER

// FUNCTION WILL BE A PARAMETER OF THE through
// FUNCTION, WHUCH WILL CREATE A TRAANSFORM STREAM FOR THE CHUNKS
const writeToUppercase = (chunkBuffer, bufferEncoding, next ) => {
 
    // FIRST ARGUMENT IS ERROR (WE PASSED null FOR THAT)
    // SECOND ARGUMENT IS CHUNK OF DATA FOR WHICH WE DEFINE
    // TRANSFORMATION TO UPPERCASE
    next(null, chunkBuffer.toString().toUpperCase())
}


// SO WE TAKE THE CONTENT OF THIS FILE AND CREATE READABLE STREAM
// FROM HIM
// PAY ATTENTION HERE WE USED item 2 (MEANS WE ARE GOING TO NEED TO PASS
// PATH TO THE FILE WHEN STARTING A FILE)
createReadStream(process.argv[2])
// WE CREATE TRANSFORMATIONS STREM TO DO SOME TRANSFORMATION ON A
// CHUNK
.pipe(through(writeToUppercase))
// THAN, AS WE ALSO DID EARLIER, WE CAN "SPILL CHUNK" IN A STANDARRD
// OUT WRITABLE STREAM
.pipe(process.stdout)

// WHEN WE RUN THIS FILE; CONTENT OF THE FILE SHOULD BE
// PRINTED OUT, BUT EVERY CHRACTER SHOULD BE IN UPPER CASE

```

AS I SAID, WE MUST PROVIDE PATH SINCE WE USED `argv[2]` (IF WE WOULD USE `argv[1]` WE WOULDN'T NEED TO PASS A PATH)

```
node /path to file/my_file.js /path to file/my_file.js
```

YOU'LL SEE A PRINTED OUT ENTIRE FILE